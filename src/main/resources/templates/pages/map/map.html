<!doctype html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="shortcut icon" id="faviconHref" th:href="@{/img/favicon_dongah.ico?v=1}">
    <title>DAEV</title>

    <link rel="stylesheet" type="text/css" th:href="@{/css/common.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/css/bootstrap.min.css}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
        integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <script src="https://code.jquery.com/jquery-3.4.1.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.11.8/umd/popper.min.js"
        integrity="sha512-TPh2Oxlg1zp+kz3nFA0C5vVC6leG/6mm1z9+mA81MI5eaUVqasPLO8Cuk4gMF4gUfP5etR73rgU/8PNMsSesoQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
    <script type="text/javascript"
        src="//dapi.kakao.com/v2/maps/sdk.js?appkey=2627a1d15418d5bd6f92dfadded8a675&libraries=services,clusterer"></script>
    <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
    <script type="text/javascript" th:src="@{/js/common.js}"></script>
    <script type="text/javascript" th:src="@{/js/map.js}"></script>
    <script th:inline="javascript">
        // var stationList = /*[[${stationList != null ? stationList : '{}'}]]*/ {};
        // console.log(stationList);

        var currentLanguage = /*[[${#locale.language}]]*/ 'ko';
    </script>

    <!-- 공통 i18n 스크립트 포함 -->
    <div th:replace="~{fragments/i18n/i18n-map :: map-i18n}"></div>
</head>

<body>
    <div class="body-content h-100">
        <div class="d-flex flex-column h-100">
            <!-- card:1 start -->
            <div class="card responsive-content flex-grow-1 d-flex flex-column">
                <!-- card body:1 start -->
                <div class="card-body d-flex flex-column">
                    <div class="content-title">
                        <i class="fa-solid fa-map font-ico me-2"></i><span th:text="#{map.title}">지도</span>
                    </div>
                    <!-- card:2 start -->
                    <div class="card card-shadow flex-grow-1 d-flex position-relative">
                        <!-- kakao map: start -->
                        <div class="card-body d-flex flex-column" style="overflow: auto;" id="map"></div>
                        <!-- kakao map: end -->
                        <!-- search area: start -->
                        <div class="map-search-container">
                            <div>
                                <input type="text" id="searchBox" class="form-control"
                                    th:placeholder="#{map.search.placeholder}" autocomplete="off">
                                <button id="searchBtn"><i class="bi bi-search"></i></button>
                            </div>
                            <div id="autocompleteList" class="autocomplete-items"></div>
                            <div id="searchList">
                                <div id="searchStationList" class="scrollbar"></div>
                                <div id="stationInfoDetail">
                                    <div>
                                        <div id="stationNameContainer">
                                            <span id="stationNameTitle"></span>
                                            <span id="infoCloseBtn">X</span>
                                        </div>
                                        <div id="stationContentContainer" class="overflow-y-auto scrollbar">
                                            <div id="stationContainer">
                                                <div th:text="#{map.station.info}">충전소 정보</div>
                                                <div class="row row-cols-2 station-info">
                                                    <div class="col-4" th:text="#{map.station.name}">충전소명</div>
                                                    <div class="col-8" id="stationName"></div>
                                                    <div class="col-4" th:text="#{map.station.company}">사업자명</div>
                                                    <div class="col-8" id="companyName"></div>
                                                    <div class="col-4" th:text="#{map.station.id}">충전소ID</div>
                                                    <div class="col-8" id="stationId"></div>
                                                    <div class="col-4" th:text="#{map.station.address}">주소</div>
                                                    <div class="col-8" id="address"></div>
                                                    <div class="col-4" th:text="#{map.station.operation}">운영여부</div>
                                                    <div class="col-8" id="opStatusName"></div>
                                                    <div class="col-4" th:text="#{map.station.parking}">주차정보</div>
                                                    <div class="col-8" id="parkingFeeYn"></div>
                                                    <div class="col-4" th:text="#{map.station.customerCenter}">고객센터
                                                    </div>
                                                    <div class="col-8" id="asNum"></div>
                                                </div>
                                            </div>
                                            <div id="chargerContainer">
                                                <div th:text="#{map.charger.info}">충전기 정보</div>
                                                <div id="chargerList"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- search area: end -->
                        <!-- login user current location -->
                        <button type="button" id="currentLocationBtn" class="current-location">
                            <img src="/img/now_pos.png">
                        </button>
                    </div>
                    <!-- card:2 end -->
                </div>
                <!-- card body:1 end -->
            </div>
            <!-- card:1 end -->
        </div>
    </div>

    <!-- 언어 선택기 스크립트 -->
    <div th:replace="~{fragments/language-selector :: language-script}"></div>

</body>

</html>